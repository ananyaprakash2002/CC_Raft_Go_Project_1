=== RUN   Test2
15:30:51.061721 [0] listening at [::]:63939
15:30:51.067681 [1] listening at [::]:63940
15:30:51.070754 [2] listening at [::]:63941
15:30:51.075609 [3] listening at [::]:63942
15:30:51.079686 [4] listening at [::]:63943
15:30:51.276237 AT NODE 1: Election timer started: 4.731s, with term=0
15:30:51.276237 AT NODE 3: Election timer started: 4.482s, with term=0
15:30:51.276237 AT NODE 4: Election timer started: 5.629s, with term=0
15:30:51.276237 AT NODE 2: Election timer started: 5.847s, with term=0
15:30:51.276237 AT NODE 0: Election timer started: 5.716s, with term=0
15:30:55.877364 AT NODE 3: became Candidate with term=1;
15:30:55.879680 AT NODE 3: Election timer started: 5.509s, with term=1
15:30:55.880808 AT NODE 3: sending RequestVote to 0: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:213}
15:30:55.880808 AT NODE 3: sending RequestVote to 1: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:202}
15:30:55.880808 AT NODE 3: sending RequestVote to 2: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:348}
15:30:55.881838 AT NODE 3: sending RequestVote to 4: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:336}
15:30:56.081283 AT NODE 1: became Candidate with term=1;
15:30:56.083024 AT NODE 1: Election timer started: 5.308s, with term=1
15:30:56.083024 AT NODE 1: sending RequestVote to 0: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:353}
15:30:56.083024 AT NODE 1: sending RequestVote to 3: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:488}
15:30:56.083024 AT NODE 1: sending RequestVote to 2: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:456}
15:30:56.084024 AT NODE 1: sending RequestVote to 4: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:173}
15:30:56.112875 AT NODE 1: Received Vote Request from NODE 3; Args: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:202} [currentTerm=1, votedFor=1, log index/term=(-1, -1)]
15:30:56.112875 AT NODE 1: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
15:30:56.114514 AT NODE 3: received RequestVoteReply from 1: {Term:1 VoteGranted:false}
15:30:56.128185 AT NODE 0: Received Vote Request from NODE 3; Args: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:213} [currentTerm=0, votedFor=-1, log index/term=(-1, -1)]
15:30:56.128185 AT NODE 0: became Follower with term=1; log=[]
15:30:56.128185 AT NODE 0: Sending Request Vote Reply: &{Term:1 VoteGranted:true}
15:30:56.128185 AT NODE 0: Election timer started: 3.384s, with term=1
15:30:56.129913 AT NODE 3: received RequestVoteReply from 0: {Term:1 VoteGranted:true}
15:30:56.129913 AT NODE 3:  0 has voted
15:30:56.129913 AT NODE 3: Became Leader by receiving majority of votes: 2
15:30:56.129913 AT NODE 3: became Leader; term=1, nextIndex=map[0:0 1:0 2:0 4:0], matchIndex=map[0:-1 1:-1 2:-1 4:-1]; log=[]
15:30:56.254650 AT NODE 2: became Follower with term=1; log=[]
15:30:56.255645 AT NODE 4: Received Vote Request from NODE 3; Args: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:336} [currentTerm=0, votedFor=-1, log index/term=(-1, -1)]
15:30:56.255645 AT NODE 4: became Follower with term=1; log=[]
15:30:56.255645 AT NODE 2: Received Vote Request from NODE 3; Args: {Term:1 CandidateId:3 LastLogIndex:-1 LastLogTerm:-1 Latency:348} [currentTerm=1, votedFor=-1, log index/term=(-1, -1)]
15:30:56.255645 AT NODE 2: Sending Request Vote Reply: &{Term:1 VoteGranted:true}
15:30:56.255645 AT NODE 2: Election timer started: 3.369s, with term=1
15:30:56.255645 AT NODE 4: Sending Request Vote Reply: &{Term:1 VoteGranted:true}
15:30:56.256918 AT NODE 4: Election timer started: 4.293s, with term=1
15:30:56.259401 AT NODE 3: received RequestVoteReply from 2: {Term:1 VoteGranted:true}
15:30:56.259401 AT NODE 3: State changed from Candidate to Leader
15:30:56.259401 AT NODE 3: received RequestVoteReply from 4: {Term:1 VoteGranted:true}
15:30:56.259401 AT NODE 3: State changed from Candidate to Leader
15:30:56.269982 AT NODE 1: became Follower with term=1; log=[]
15:30:56.269982 AT NODE 1: Election timer started: 3.584s, with term=1
15:30:56.285352 AT NODE 4: Received Vote Request from NODE 1; Args: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:173} [currentTerm=1, votedFor=3, log index/term=(-1, -1)]
15:30:56.285352 AT NODE 4: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
15:30:56.287521 AT NODE 1: received RequestVoteReply from 4: {Term:1 VoteGranted:false}
15:30:56.288523 AT NODE 1: State changed from Candidate to Follower
15:30:56.474590 AT NODE 0: Received Vote Request from NODE 1; Args: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:353} [currentTerm=1, votedFor=3, log index/term=(-1, -1)]
15:30:56.474590 AT NODE 0: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
15:30:56.476533 AT NODE 1: received RequestVoteReply from 0: {Term:1 VoteGranted:false}
15:30:56.476533 AT NODE 1: State changed from Candidate to Follower
15:30:56.569147 AT NODE 2: Received Vote Request from NODE 1; Args: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:456} [currentTerm=1, votedFor=3, log index/term=(-1, -1)]
15:30:56.569147 AT NODE 2: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
15:30:56.570168 AT NODE 1: received RequestVoteReply from 2: {Term:1 VoteGranted:false}
15:30:56.571248 AT NODE 1: State changed from Candidate to Follower
15:30:56.600937 AT NODE 3: Received Vote Request from NODE 1; Args: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1 Latency:488} [currentTerm=1, votedFor=3, log index/term=(-1, -1)]
15:30:56.600937 AT NODE 3: Sending Request Vote Reply: &{Term:1 VoteGranted:false}
15:30:56.600937 AT NODE 3: ReceiveClientCommand received by Leader: Set X = 5
15:30:56.601766 AT NODE 3: Log=[{Set X = 5 1}]
15:30:56.601766 AT NODE 3: ReceiveClientCommand received by Leader: Set X = 1000
15:30:56.601766 AT NODE 3: Log=[{Set X = 5 1} {Set X = 1000 1}]
15:30:56.602760 AT NODE 1: received RequestVoteReply from 3: {Term:1 VoteGranted:false}
15:30:56.602760 AT NODE 1: State changed from Candidate to Follower
15:30:57.135300 AT NODE 3: sending AppendEntries to 0: currentPeer_nextIndex=0, args={Term:1 LeaderId:3 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:1} {Command:Set X = 1000 Term:1}] LeaderCommit:-1 Latency:348}
15:30:57.136102 AT NODE 3: sending AppendEntries to 1: currentPeer_nextIndex=0, args={Term:1 LeaderId:3 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:1} {Command:Set X = 1000 Term:1}] LeaderCommit:-1 Latency:428}
15:30:57.136102 AT NODE 3: sending AppendEntries to 2: currentPeer_nextIndex=0, args={Term:1 LeaderId:3 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:1} {Command:Set X = 1000 Term:1}] LeaderCommit:-1 Latency:251}
15:30:57.136102 AT NODE 3: sending AppendEntries to 4: currentPeer_nextIndex=0, args={Term:1 LeaderId:3 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:1} {Command:Set X = 1000 Term:1}] LeaderCommit:-1 Latency:174}
15:30:57.339174 AT NODE 4: Received AppendEntries from NODE 3; args: {Term:1 LeaderId:3 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:1} {Command:Set X = 1000 Term:1}] LeaderCommit:-1 Latency:174}
15:30:57.339174 AT NODE 4: Log is now: [{Set X = 5 1} {Set X = 1000 1}]
15:30:57.339174 AT NODE 4: Sending AppendEntries reply: {Term:1 Success:true}
15:30:57.340018 AT NODE 3: AppendEntries reply from NODE 4 success: nextIndex := map[0:0 1:0 2:0 4:2], matchIndex := map[0:-1 1:-1 2:-1 4:1]
15:30:57.418803 AT NODE 2: Received AppendEntries from NODE 3; args: {Term:1 LeaderId:3 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:1} {Command:Set X = 1000 Term:1}] LeaderCommit:-1 Latency:251}
15:30:57.418803 AT NODE 2: Log is now: [{Set X = 5 1} {Set X = 1000 1}]
15:30:57.418803 AT NODE 2: Sending AppendEntries reply: {Term:1 Success:true}
15:30:57.420593 AT NODE 3: AppendEntries reply from NODE 2 success: nextIndex := map[0:0 1:0 2:2 4:2], matchIndex := map[0:-1 1:-1 2:1 4:1]
15:30:57.420593 AT NODE 3: leader sets commitIndex := 1
15:30:57.513242 AT NODE 0: Received AppendEntries from NODE 3; args: {Term:1 LeaderId:3 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:1} {Command:Set X = 1000 Term:1}] LeaderCommit:-1 Latency:348}
15:30:57.514398 AT NODE 0: Log is now: [{Set X = 5 1} {Set X = 1000 1}]
15:30:57.514398 AT NODE 0: Sending AppendEntries reply: {Term:1 Success:true}
15:30:57.515427 AT NODE 3: AppendEntries reply from NODE 0 success: nextIndex := map[0:2 1:0 2:2 4:2], matchIndex := map[0:1 1:-1 2:1 4:1]
15:30:57.591832 AT NODE 1: Received AppendEntries from NODE 3; args: {Term:1 LeaderId:3 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[{Command:Set X = 5 Term:1} {Command:Set X = 1000 Term:1}] LeaderCommit:-1 Latency:428}
15:30:57.591832 AT NODE 1: Log is now: [{Set X = 5 1} {Set X = 1000 1}]
15:30:57.591832 AT NODE 1: Sending AppendEntries reply: {Term:1 Success:true}
15:30:57.592623 AT NODE 3: AppendEntries reply from NODE 1 success: nextIndex := map[0:2 1:2 2:2 4:2], matchIndex := map[0:1 1:1 2:1 4:1]
15:30:59.605557 [ACTION] Disconnecting 3
15:31:02.660148 AT NODE 2: became Candidate with term=2;
15:31:02.660148 AT NODE 2: Election timer started: 5.037s, with term=2
15:31:02.660148 AT NODE 2: sending RequestVote to 0: {Term:2 CandidateId:2 LastLogIndex:1 LastLogTerm:1 Latency:18}
15:31:02.661228 AT NODE 2: sending RequestVote to 4: {Term:2 CandidateId:2 LastLogIndex:1 LastLogTerm:1 Latency:57}
15:31:02.660148 AT NODE 2: sending RequestVote to 3: {Term:2 CandidateId:2 LastLogIndex:1 LastLogTerm:1 Latency:19}
15:31:02.661228 AT NODE 2: sending RequestVote to 1: {Term:2 CandidateId:2 LastLogIndex:1 LastLogTerm:1 Latency:288}
15:31:02.707238 AT NODE 0: Received Vote Request from NODE 2; Args: {Term:2 CandidateId:2 LastLogIndex:1 LastLogTerm:1 Latency:18} [currentTerm=1, votedFor=3, log index/term=(1, 1)]
15:31:02.707238 AT NODE 0: became Follower with term=2; log=[{%!d(string=Set X = 5) 1} {%!d(string=Set X = 1000) 1}]
15:31:02.707975 AT NODE 0: Sending Request Vote Reply: &{Term:2 VoteGranted:true}
15:31:02.709217 AT NODE 0: Election timer started: 5.165s, with term=2
15:31:02.710472 AT NODE 2: received RequestVoteReply from 0: {Term:2 VoteGranted:true}
15:31:02.710472 AT NODE 2:  0 has voted
15:31:02.710472 AT NODE 2: Became Leader by receiving majority of votes: 2
15:31:02.711006 AT NODE 2: became Leader; term=2, nextIndex=map[0:2 1:2 3:2 4:2], matchIndex=map[0:-1 1:-1 3:-1 4:-1]; log=[{Set X = 5 1} {Set X = 1000 1}]
15:31:02.753413 AT NODE 4: Received Vote Request from NODE 2; Args: {Term:2 CandidateId:2 LastLogIndex:1 LastLogTerm:1 Latency:57} [currentTerm=1, votedFor=3, log index/term=(1, 1)]
15:31:02.753933 AT NODE 4: became Follower with term=2; log=[{%!d(string=Set X = 5) 1} {%!d(string=Set X = 1000) 1}]
15:31:02.753933 AT NODE 4: Sending Request Vote Reply: &{Term:2 VoteGranted:true}
15:31:02.753933 AT NODE 4: Election timer started: 5.172s, with term=2
15:31:02.754959 AT NODE 2: received RequestVoteReply from 4: {Term:2 VoteGranted:true}
15:31:02.756016 AT NODE 2: State changed from Candidate to Leader
15:31:02.971293 AT NODE 1: Received Vote Request from NODE 2; Args: {Term:2 CandidateId:2 LastLogIndex:1 LastLogTerm:1 Latency:288} [currentTerm=1, votedFor=-1, log index/term=(1, 1)]
15:31:02.971293 AT NODE 1: became Follower with term=2; log=[{%!d(string=Set X = 5) 1} {%!d(string=Set X = 1000) 1}]
15:31:02.971293 AT NODE 1: Sending Request Vote Reply: &{Term:2 VoteGranted:true}
15:31:02.971293 AT NODE 1: Election timer started: 5.493s, with term=2
15:31:02.972800 AT NODE 2: received RequestVoteReply from 1: {Term:2 VoteGranted:true}
15:31:02.972800 AT NODE 2: State changed from Candidate to Leader
15:31:03.392956 AT NODE 2: ReceiveClientCommand received by Leader: Set X = X+10
15:31:03.392956 AT NODE 2: Log=[{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2}]
15:31:03.392956 AT NODE 2: ReceiveClientCommand received by Leader: Set X = X+1
15:31:03.392956 AT NODE 2: Log=[{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2}]
15:31:03.392956 AT NODE 2: ReceiveClientCommand received by Leader: Set Y = 5
15:31:03.393996 AT NODE 2: Log=[{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2} {Set Y = 5 2}]
15:31:03.393996 AT NODE 2: ReceiveClientCommand received by Leader: Set Y = X+Y
15:31:03.393996 AT NODE 2: Log=[{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2} {Set Y = 5 2} {Set Y = X+Y 2}]
15:31:03.393996 AT NODE 2: ReceiveClientCommand received by Leader: Set Y = Y+3
15:31:03.393996 AT NODE 2: Log=[{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2} {Set Y = 5 2} {Set Y = X+Y 2} {Set Y = Y+3 2}]
15:31:03.393996 AT NODE 2: ReceiveClientCommand received by Leader: Set Z = -1
15:31:03.393996 AT NODE 2: Log=[{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2} {Set Y = 5 2} {Set Y = X+Y 2} {Set Y = Y+3 2} {Set Z = -1 2}]
15:31:03.771105 AT NODE 2: sending AppendEntries to 4: currentPeer_nextIndex=2, args={Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2}] LeaderCommit:1 Latency:7}
15:31:03.774006 AT NODE 2: sending AppendEntries to 0: currentPeer_nextIndex=2, args={Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2}] LeaderCommit:1 Latency:335}
15:31:03.776582 AT NODE 2: sending AppendEntries to 3: currentPeer_nextIndex=2, args={Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2}] LeaderCommit:1 Latency:228}
15:31:03.777587 AT NODE 2: sending AppendEntries to 1: currentPeer_nextIndex=2, args={Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2}] LeaderCommit:1 Latency:115}
15:31:03.824611 AT NODE 4: Received AppendEntries from NODE 2; args: {Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2}] LeaderCommit:1 Latency:7}
15:31:03.824611 AT NODE 4: Log is now: [{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2} {Set Y = 5 2} {Set Y = X+Y 2} {Set Y = Y+3 2} {Set Z = -1 2}]
15:31:03.824611 AT NODE 4: Sending AppendEntries reply: {Term:2 Success:true}
15:31:03.825607 AT NODE 2: AppendEntries reply from NODE 4 success: nextIndex := map[0:2 1:2 3:2 4:8], matchIndex := map[0:1 1:1 3:-1 4:7]
15:31:03.926922 AT NODE 1: Received AppendEntries from NODE 2; args: {Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2}] LeaderCommit:1 Latency:115}
15:31:03.927919 AT NODE 1: Log is now: [{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2} {Set Y = 5 2} {Set Y = X+Y 2} {Set Y = Y+3 2} {Set Z = -1 2}]
15:31:03.927919 AT NODE 1: Sending AppendEntries reply: {Term:2 Success:true}
15:31:03.928918 AT NODE 2: AppendEntries reply from NODE 1 success: nextIndex := map[0:2 1:8 3:2 4:8], matchIndex := map[0:1 1:7 3:-1 4:7]
15:31:03.928918 AT NODE 2: leader sets commitIndex := 7
15:31:04.146418 AT NODE 0: Received AppendEntries from NODE 2; args: {Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2}] LeaderCommit:1 Latency:335}
15:31:04.147174 AT NODE 0: Log is now: [{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2} {Set Y = 5 2} {Set Y = X+Y 2} {Set Y = Y+3 2} {Set Z = -1 2}]
15:31:04.147174 AT NODE 0: Sending AppendEntries reply: {Term:2 Success:true}
15:31:04.148581 AT NODE 2: AppendEntries reply from NODE 0 success: nextIndex := map[0:8 1:8 3:2 4:8], matchIndex := map[0:7 1:7 3:-1 4:7]
15:31:04.724607 AT NODE 2: sending AppendEntries to 3: currentPeer_nextIndex=2, args={Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2}] LeaderCommit:7 Latency:17}
15:31:05.713111 AT NODE 2: sending AppendEntries to 3: currentPeer_nextIndex=2, args={Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2}] LeaderCommit:7 Latency:243}
15:31:06.399796 AT NODE 2: ReceiveClientCommand received by Leader: Set Z = 3
15:31:06.399796 AT NODE 2: Log=[{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2} {Set Y = 5 2} {Set Y = X+Y 2} {Set Y = Y+3 2} {Set Z = -1 2} {Set Z = 3 2}]
15:31:06.714215 AT NODE 2: sending AppendEntries to 0: currentPeer_nextIndex=8, args={Term:2 LeaderId:2 PrevLogIndex:7 PrevLogTerm:2 Entries:[{Command:Set Z = 3 Term:2}] LeaderCommit:7 Latency:79}
15:31:06.714215 AT NODE 2: sending AppendEntries to 1: currentPeer_nextIndex=8, args={Term:2 LeaderId:2 PrevLogIndex:7 PrevLogTerm:2 Entries:[{Command:Set Z = 3 Term:2}] LeaderCommit:7 Latency:395}
15:31:06.714215 AT NODE 2: sending AppendEntries to 3: currentPeer_nextIndex=2, args={Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2} {Command:Set Z = 3 Term:2}] LeaderCommit:7 Latency:37}
15:31:06.714215 AT NODE 2: sending AppendEntries to 4: currentPeer_nextIndex=8, args={Term:2 LeaderId:2 PrevLogIndex:7 PrevLogTerm:2 Entries:[{Command:Set Z = 3 Term:2}] LeaderCommit:7 Latency:5}
15:31:06.745444 AT NODE 4: Received AppendEntries from NODE 2; args: {Term:2 LeaderId:2 PrevLogIndex:7 PrevLogTerm:2 Entries:[{Command:Set Z = 3 Term:2}] LeaderCommit:7 Latency:5}
15:31:06.745444 AT NODE 4: Log is now: [{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2} {Set Y = 5 2} {Set Y = X+Y 2} {Set Y = Y+3 2} {Set Z = -1 2} {Set Z = 3 2}]
15:31:06.745444 AT NODE 4: Sending AppendEntries reply: {Term:2 Success:true}
15:31:06.746301 AT NODE 2: AppendEntries reply from NODE 4 success: nextIndex := map[0:8 1:8 3:2 4:9], matchIndex := map[0:7 1:7 3:-1 4:8]
15:31:06.823440 AT NODE 0: Received AppendEntries from NODE 2; args: {Term:2 LeaderId:2 PrevLogIndex:7 PrevLogTerm:2 Entries:[{Command:Set Z = 3 Term:2}] LeaderCommit:7 Latency:79}
15:31:06.823440 AT NODE 0: Log is now: [{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2} {Set Y = 5 2} {Set Y = X+Y 2} {Set Y = Y+3 2} {Set Z = -1 2} {Set Z = 3 2}]
15:31:06.823440 AT NODE 0: Sending AppendEntries reply: {Term:2 Success:true}
15:31:06.824303 AT NODE 2: AppendEntries reply from NODE 0 success: nextIndex := map[0:9 1:8 3:2 4:9], matchIndex := map[0:8 1:7 3:-1 4:8]
15:31:06.824303 AT NODE 2: leader sets commitIndex := 8
15:31:07.135708 AT NODE 1: Received AppendEntries from NODE 2; args: {Term:2 LeaderId:2 PrevLogIndex:7 PrevLogTerm:2 Entries:[{Command:Set Z = 3 Term:2}] LeaderCommit:7 Latency:395}
15:31:07.135708 AT NODE 1: Log is now: [{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2} {Set Y = 5 2} {Set Y = X+Y 2} {Set Y = Y+3 2} {Set Z = -1 2} {Set Z = 3 2}]
15:31:07.136776 AT NODE 1: Sending AppendEntries reply: {Term:2 Success:true}
15:31:07.137788 AT NODE 2: AppendEntries reply from NODE 1 success: nextIndex := map[0:9 1:9 3:2 4:9], matchIndex := map[0:8 1:8 3:-1 4:8]
15:31:07.714367 AT NODE 2: sending AppendEntries to 3: currentPeer_nextIndex=2, args={Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2} {Command:Set Z = 3 Term:2}] LeaderCommit:8 Latency:372}
15:31:08.714257 AT NODE 2: sending AppendEntries to 3: currentPeer_nextIndex=2, args={Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2} {Command:Set Z = 3 Term:2}] LeaderCommit:8 Latency:467}
15:31:09.402513 [ACTION] Reconnecting 3
15:31:09.715661 AT NODE 2: sending AppendEntries to 3: currentPeer_nextIndex=2, args={Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2} {Command:Set Z = 3 Term:2}] LeaderCommit:8 Latency:494}
15:31:10.137626 AT NODE 3: sending AppendEntries to 0: currentPeer_nextIndex=2, args={Term:1 LeaderId:3 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X-5 Term:1}] LeaderCommit:1 Latency:334}
15:31:10.138695 AT NODE 3: sending AppendEntries to 2: currentPeer_nextIndex=2, args={Term:1 LeaderId:3 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X-5 Term:1}] LeaderCommit:1 Latency:252}
15:31:10.138695 AT NODE 3: sending AppendEntries to 1: currentPeer_nextIndex=2, args={Term:1 LeaderId:3 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X-5 Term:1}] LeaderCommit:1 Latency:276}
15:31:10.138695 AT NODE 3: sending AppendEntries to 4: currentPeer_nextIndex=2, args={Term:1 LeaderId:3 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X-5 Term:1}] LeaderCommit:1 Latency:127}
15:31:10.245749 AT NODE 3: Received AppendEntries from NODE 2; args: {Term:2 LeaderId:2 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X+10 Term:2} {Command:Set X = X+1 Term:2} {Command:Set Y = 5 Term:2} {Command:Set Y = X+Y Term:2} {Command:Set Y = Y+3 Term:2} {Command:Set Z = -1 Term:2} {Command:Set Z = 3 Term:2}] LeaderCommit:8 Latency:494}
15:31:10.245749 AT NODE 3: became Follower with term=2; log=[{%!d(string=Set X = 5) 1} {%!d(string=Set X = 1000) 1} {%!d(string=Set X = X-5) 1}]
15:31:10.246621 AT NODE 3: Log is now: [{Set X = 5 1} {Set X = 1000 1} {Set X = X+10 2} {Set X = X+1 2} {Set Y = 5 2} {Set Y = X+Y 2} {Set Y = Y+3 2} {Set Z = -1 2} {Set Z = 3 2}]
15:31:10.246621 AT NODE 3: Sending AppendEntries reply: {Term:2 Success:true}
15:31:10.247786 AT NODE 2: AppendEntries reply from NODE 3 success: nextIndex := map[0:9 1:9 3:9 4:9], matchIndex := map[0:8 1:8 3:8 4:8]
15:31:10.248813 AT NODE 3: Election timer started: 4.415s, with term=2
15:31:10.292305 AT NODE 4: Received AppendEntries from NODE 3; args: {Term:1 LeaderId:3 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X-5 Term:1}] LeaderCommit:1 Latency:127}
15:31:10.292305 AT NODE 4: Sending AppendEntries reply: {Term:2 Success:false}
15:31:10.418264 AT NODE 2: Received AppendEntries from NODE 3; args: {Term:1 LeaderId:3 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X-5 Term:1}] LeaderCommit:1 Latency:252}
15:31:10.418264 AT NODE 2: Sending AppendEntries reply: {Term:2 Success:false}
15:31:10.449525 AT NODE 1: Received AppendEntries from NODE 3; args: {Term:1 LeaderId:3 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X-5 Term:1}] LeaderCommit:1 Latency:276}
15:31:10.449525 AT NODE 1: Sending AppendEntries reply: {Term:2 Success:false}
15:31:10.496308 AT NODE 0: Received AppendEntries from NODE 3; args: {Term:1 LeaderId:3 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Command:Set X = X-5 Term:1}] LeaderCommit:1 Latency:334}
15:31:10.496308 AT NODE 0: Sending AppendEntries reply: {Term:2 Success:false}
15:31:24.440144 AT NODE 0: KILLED
15:31:24.440144 AT NODE 0: applyCommitedLogEntries done
15:31:24.442021 AT NODE 1: KILLED
15:31:24.442021 AT NODE 1: applyCommitedLogEntries done
15:31:24.443060 AT NODE 2: KILLED
15:31:24.443060 AT NODE 2: applyCommitedLogEntries done
15:31:24.444111 AT NODE 3: KILLED
15:31:24.444111 AT NODE 3: applyCommitedLogEntries done
15:31:24.445139 AT NODE 4: KILLED
15:31:24.446135 AT NODE 4: applyCommitedLogEntries done
--- PASS: Test2 (33.45s)
PASS
ok  	RaftLogReplication	34.589s
